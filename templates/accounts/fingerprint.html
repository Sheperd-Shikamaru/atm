
{% extends 'core/base.html' %}

{% block head_title %}Banking System{% endblock %}

{% block content %}

    <body>
        <h1 class="mb-3 mt-10" style="display: flex; justify-content: center;">Please place your finger on the Finger Print sensor</h1>

        <div style="display: flex; justify-content: center;">
            <img style="display: flex; justify-content: center;"  src="https://th.bing.com/th/id/OIP.iEB26aXE4ClDEpKGvD_vbAHaER?pid=ImgDet&rs=1">
        </div>
        {% if error %}
            <p>{{ error }}</p>
        {% endif %}
        <form action="/fingerprint_register" method="post">
            {% csrf_token %}

        </form>
        <input type="text" value="11" id="location" hidden>
        <div id="message"></div>
    </body>


<!-- Add jQuery library -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>



{% comment %} <script>
$(document).ready(function() {
    $('#enroll-form').on('submit', function(event) {
        event.preventDefault();

        var location = $('#location').val();

        $.ajax({
            type: 'POST',
            url: '{% url "fingerprint_register" %}',  // Replace with the correct URL
            //url: "#",
            data: {
                'location': location,
                'csrfmiddlewaretoken': '{{ csrf_token }}'
            },
            dataType: 'json',
            success: function(response) {
                if ('message' in response) {
                    window.location.href = "{% url 'deposit_money' %}"
                    // Do any additional actions on success
                } else if ('status' in response) {
                    alert(response.status);
                    // Do any additional actions on error
                } else if ('error' in response) {
                    alert(response.error);
                    // Do any additional actions on error
                }
            },
            error: function(xhr, status, error) {
                console.error(error);
                // Handle the error condition
            }
        });
    });
});
</script> {% endcomment %}

<script>
$(document).ready(function() {
    $("#fingerprint-register").submit(function(event) {
      event.preventDefault();
  
      var location = $("#location").val();
  
      $.ajax({
        url: "/fingerprint_register",
        data: {
          location: location
        },
        success: function(response) {
          if (response.status == "Fingerprint recorded") {
            alert("Fingerprint recorded successfully");
          } else {
            alert("An error occurred");
          }
        }
      });
    });
  });
  
</script>

{% endblock %}
