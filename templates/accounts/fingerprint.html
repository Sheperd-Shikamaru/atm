{% comment %} <form id="fingerprint-form">
    <button id="fingerprint-button">Authenticate with Fingerprint</button>
  </form>

  <script>
    $(document).ready(function() {
    $('#fingerprint-button').click(function(e) {
        e.preventDefault();
        $.ajax({
            type: 'POST',
            url: '/fingerprint_auth',
            success: function(data) {
                if (data.authenticated) {
                    // Redirect the user to the protected resource
                    window.location.href = '/home';
                } else {
                    // Display an error message
                    alert('Fingerprint authentication failed. Please try again.');
                }
            }
        });
    });
});

</script> {% endcomment %}
{% extends 'core/base.html' %}

{% block head_title %}Banking System{% endblock %}

{% block content %}

    <body>
        <h1>Please place your finger on the Finger Print sensor</h1>
        {% if error %}
            <p>{{ error }}</p>
        {% endif %}
        <form action="" method="post">
            {% csrf_token %}
            
            <input type="number" name="location" placeholder="Location">
            <input type="submit" value="Enroll">
        </form>
    </body>

    <body>
        <h1>Fingerprint Enrollment</h1>
        <form method="post">
            {% csrf_token %}
            <label for="location">Fingerprint Location:</label>
            <input type="number" name="location" required>
            <button type="submit">Enroll Fingerprint</button>
        </form>
    </body>

    <div id="message"></div>
    <script>
        const enrollButton = document.getElementById('enrollButton');
        const messageDiv = document.getElementById('message');

        enrollButton.addEventListener('click', function() {
            enrollButton.disabled = true;
            messageDiv.textContent = 'Place your finger on the sensor...';

            // Logic to trigger the fingerprint detection process
            // Once the fingerprint is detected, you can submit the form using JavaScript
            // You need to integrate the fingerprint detection process here
            // For demonstration, I'll simulate a delay before submitting the form
            setTimeout(function() {
                document.getElementById('enrollForm').submit();
            }, 5000);  // Simulating a 5-second delay before submission
        });
    </script>

{% endblock %}